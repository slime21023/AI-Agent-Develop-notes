# Agent 評估 (Agent Evaluation)

## 核心目標
*   有效規劃 AI 代理的生產環境部署。
*   了解部署時可能遇到的常見錯誤、問題及解決方案。
*   在維持效能的同時管理成本。

### 評估 AI 代理
**重要性：** 在部署前、中、後進行評估至關重要，確保系統符合目標。

**評估範圍：** 不僅評估最終輸出，需評估**整個系統**，包含：
*   初始模型請求
*   代理識別使用者意圖的能力
*   代理選擇正確工具的能力
*   工具對代理請求的回應
*   代理詮釋工具回應的能力
*   使用者對代理回應的回饋

**效益：** 模組化評估有助於更有效地找出模型、提示、工具等環節的改善空間。

### 常見問題與潛在解決方案

| 問題                       | 潛在解決方案                                                                 |
| :------------------------- | :--------------------------------------------------------------------------- |
| AI 代理執行任務不一致        | \- 優化給予代理的提示，明確目標。<br />\- 考慮將任務拆分為子任務，由多個代理處理。 |
| AI 代理陷入無限迴圈        | \- 確保有清晰的終止條件。<br />\- 對於需要推理和規劃的複雜任務，使用更擅長推理的大型模型。 |
| AI 代理的工具呼叫效能不佳    | \- 在代理系統外獨立測試和驗證工具的輸出。<br />\- 優化工具的定義參數、提示和命名。       |
| 多代理系統效能不一致       | \- 優化每個代理的提示，確保具體且彼此區分。<br />\- 建立階層式系統，使用「路由」或控制器代理來決定哪個代理最適合。 |

### 成本管理策略
**快取回應 (Caching Responses)：** 識別常見請求和任務，預先提供回應，減少進入代理系統的請求量。可使用基礎 AI 模型判斷請求與快取內容的相似度。

**使用較小模型 (Using Smaller Models)：** 小型語言模型 (SLMs) 在某些代理使用場景下表現良好，可顯著降低成本。需建立評估系統比較 SLM 與大型模型的效能。

**使用路由模型 (Using a Router Model)：** 採用多樣化的模型和大小。使用 LLM/SLM 或無伺服器函數，根據請求的複雜度將其路由到最適合的模型，以平衡成本與效能。